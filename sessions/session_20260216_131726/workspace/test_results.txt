============================= test session starts ==============================
platform darwin -- Python 3.12.2, pytest-7.4.4, pluggy-1.0.0 -- /opt/homebrew/anaconda3/bin/python
cachedir: .pytest_cache
rootdir: /Users/apple/multi-code-agent/sessions/session_20260216_131726/workspace
plugins: anyio-4.11.0
collecting ... collected 63 items

tests.py::TestConstruction::test_valid_capacity_creates_cache PASSED     [  1%]
tests.py::TestConstruction::test_capacity_one_is_valid PASSED            [  3%]
tests.py::TestConstruction::test_invalid_capacity_zero_raises PASSED     [  4%]
tests.py::TestConstruction::test_invalid_capacity_negative_raises PASSED [  6%]
tests.py::TestConstruction::test_default_ttl_none PASSED                 [  7%]
tests.py::TestConstruction::test_invalid_default_ttl_zero_raises PASSED  [  9%]
tests.py::TestConstruction::test_invalid_default_ttl_negative_raises PASSED [ 11%]
tests.py::TestConstruction::test_valid_default_ttl PASSED                [ 12%]
tests.py::TestConstruction::test_repr_contains_capacity_and_size PASSED  [ 14%]
tests.py::TestGetSet::test_set_and_get_returns_value PASSED              [ 15%]
tests.py::TestGetSet::test_get_missing_returns_none PASSED               [ 17%]
tests.py::TestGetSet::test_get_missing_with_default PASSED               [ 19%]
tests.py::TestGetSet::test_set_overwrites_existing_value PASSED          [ 20%]
tests.py::TestGetSet::test_set_none_value PASSED                         [ 22%]
tests.py::TestGetSet::test_various_key_types PASSED                      [ 23%]
tests.py::TestLRUEviction::test_exceeding_capacity_evicts_lru PASSED     [ 25%]
tests.py::TestLRUEviction::test_capacity_one_always_evicts_previous PASSED [ 26%]
tests.py::TestLRUEviction::test_update_existing_key_moves_to_mru PASSED  [ 28%]
tests.py::TestLRUEviction::test_eviction_increments_counter PASSED       [ 30%]
tests.py::TestLRUEviction::test_size_never_exceeds_capacity PASSED       [ 31%]
tests.py::TestTTLExpiry::test_entry_accessible_before_ttl PASSED         [ 33%]
tests.py::TestTTLExpiry::test_entry_expired_after_ttl PASSED             [ 34%]
tests.py::TestTTLExpiry::test_expiry_counted_in_stats PASSED             [ 36%]
tests.py::TestTTLExpiry::test_default_ttl_applied_to_entries PASSED      [ 38%]
tests.py::TestTTLExpiry::test_per_entry_ttl_overrides_default PASSED     [ 39%]
tests.py::TestTTLExpiry::test_expired_entry_removed_lazily PASSED        [ 41%]
tests.py::TestTTLExpiry::test_contains_returns_false_for_expired PASSED  [ 42%]
tests.py::TestTTLExpiry::test_update_resets_ttl PASSED                   [ 44%]
tests.py::TestStatistics::test_initial_stats_all_zero PASSED             [ 46%]
tests.py::TestStatistics::test_hit_increments_hits PASSED                [ 47%]
tests.py::TestStatistics::test_miss_increments_misses PASSED             [ 49%]
tests.py::TestStatistics::test_hit_rate_calculation PASSED               [ 50%]
tests.py::TestStatistics::test_hit_rate_zero_when_no_lookups PASSED      [ 52%]
tests.py::TestStatistics::test_reset_stats_clears_all_counters PASSED    [ 53%]
tests.py::TestStatistics::test_stats_snapshot_is_independent PASSED      [ 55%]
tests.py::TestStatistics::test_cache_stats_repr PASSED                   [ 57%]
tests.py::TestDeleteClearContains::test_delete_existing_key_returns_true PASSED [ 58%]
tests.py::TestDeleteClearContains::test_delete_missing_key_returns_false PASSED [ 60%]
tests.py::TestDeleteClearContains::test_clear_removes_all_entries PASSED [ 61%]
tests.py::TestDeleteClearContains::test_clear_preserves_stats PASSED     [ 63%]
tests.py::TestDeleteClearContains::test_contains_true_for_existing PASSED [ 65%]
tests.py::TestDeleteClearContains::test_contains_false_for_missing PASSED [ 66%]
tests.py::TestDeleteClearContains::test_in_operator_uses_contains PASSED [ 68%]
tests.py::TestAsyncAPI::test_async_set_and_get PASSED                    [ 69%]
tests.py::TestAsyncAPI::test_async_get_miss_returns_none PASSED          [ 71%]
tests.py::TestAsyncAPI::test_async_get_with_default PASSED               [ 73%]
tests.py::TestAsyncAPI::test_async_stats_updated PASSED                  [ 74%]
tests.py::TestAsyncAPI::test_async_ttl PASSED                            [ 76%]
tests.py::TestAsyncAPI::test_async_concurrent_sets PASSED                [ 77%]
tests.py::TestAsyncAPI::test_async_run_in_executor_does_not_block PASSED [ 79%]
tests.py::TestThreadSafety::test_concurrent_sets_no_data_race PASSED     [ 80%]
tests.py::TestThreadSafety::test_concurrent_get_set_mixed PASSED         [ 82%]
tests.py::TestThreadSafety::test_stats_consistent_under_concurrency PASSED [ 84%]
tests.py::TestEdgeCases::test_empty_cache_operations PASSED              [ 85%]
tests.py::TestEdgeCases::test_large_number_of_items_respects_capacity PASSED [ 87%]
tests.py::TestEdgeCases::test_repeated_gets_dont_change_size PASSED      [ 88%]
tests.py::TestEdgeCases::test_set_same_key_repeatedly_no_size_growth PASSED [ 90%]
tests.py::TestEdgeCases::test_zero_ttl_entry_expires_immediately PASSED  [ 92%]
tests.py::TestEdgeCases::test_new_key_with_expired_ttl_does_not_evict_valid_entry PASSED [ 93%]
tests.py::TestEdgeCases::test_new_key_with_negative_ttl_does_not_evict_valid_entry PASSED [ 95%]
tests.py::TestEdgeCases::test_update_existing_key_with_expired_ttl_still_updates PASSED [ 96%]
tests.py::TestEdgeCases::test_delete_then_set_works PASSED               [ 98%]
tests.py::TestEdgeCases::test_clear_then_set_works PASSED                [100%]

============================== 63 passed in 1.14s ==============================
